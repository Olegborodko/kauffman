window.Yikes_Mailchimp_Ajax=window.Yikes_Mailchimp_Ajax||{},function(e,i,s,r,a){"use strict";r.l10n=e.yikes_mailchimp_ajax||{},s(i).ready(function(){s("body").on("submit",".yikes-easy-mc-form",function(){var i=s(this);i.addClass("yikes-mc-submitted-form-loading"),i.find("input, label, button").not(":hidden").fadeTo("fast",.5),"string"==typeof r.l10n.preloader_url&&r.l10n.preloader_url.length>1&&i.append('<img src="'+r.l10n.preloader_url+'" class="yikes-mailchimp-preloader" />'),s(".yikes-mc-required-field-not-filled").removeClass("yikes-mc-required-field-not-filled"),s(".yikes-mailchimp-submit-button-span-text").hide(),"string"==typeof r.l10n.loading_dots&&r.l10n.loading_dots.length>1&&i.find(".yikes-easy-mc-submit-button").append('<img src="'+r.l10n.loading_dots+'" class="loading-dots yikes-mc-loading-dots" />');var a=i.attr("data-attr-form-id"),o=[];if(i.find(".yikes-interest-group-required").length>0&&i.find(".yikes-interest-group-required").each(function(){var e=jQuery(this).attr("name").replace("[]","");0==i.find('input[name="'+e+'[]"]:checked').length&&(o[e]=i.find("span."+e+"-label").text())}),o.length>0){if(i.find(".yikes-mailchimp-required-interest-group-error").length>0)i.find(".yikes-mailchimp-required-interest-group-error").fadeOut("fast",function(){i.find(".yikes-mailchimp-required-interest-group-error").remove();for(var e in o)i.find("span."+e+"-label").after('<p class="yikes-mailchimp-required-interest-group-error">'+r.l10n.interest_group_checkbox_error+"</p>")});else for(var n in o)i.find("span."+n+"-label").after('<p class="yikes-mailchimp-required-interest-group-error">'+r.l10n.interest_group_checkbox_error+"</p>");return i.find(".yikes-easy-mc-submit-button").removeAttr("disabled","disabled"),i.find("input, label, button").not(":hidden").fadeTo("fast",1),i.find(".yikes-mailchimp-preloader").remove(),s(".yikes-mc-loading-dots").remove(),s(".yikes-mailchimp-submit-button-span-text").show(),i.removeClass("yikes-mc-submitted-form-loading"),!1}i.find(".yikes-easy-mc-submit-button").attr("disabled","disabled"),s(".yikes-easy-mc-error-message").remove(),s(".yikes-easy-mc-success-message").remove();var t={action:"process_form_submission",form_data:i.serialize(),form_id:a,page_data:r.l10n.page_data,ajax_security_nonce:r.l10n.ajax_security_nonce};return s.ajax({url:r.l10n.ajax_url,type:"POST",data:t,success:function(o,n,t){if(i.find("input, label, button").not(":hidden").fadeTo("fast",1),i.find(".yikes-mailchimp-preloader").remove(),s(".yikes-mc-loading-dots").remove(),s(".yikes-mailchimp-submit-button-span-text").show(),i.removeClass("yikes-mc-submitted-form-loading"),o.success){if(o=o.data,"function"==typeof yikes_mailchimp_google_analytics_success&&yikes_mailchimp_google_analytics_success(o),1==o.hide&&(s(".yikes-easy-mc-form-description-"+a).length>0&&s(".yikes-easy-mc-form-description-"+a).hide(),i.hide()),s(".yikes-easy-mc-form-description-"+a).length>0?s(".yikes-easy-mc-form-description-"+a).before('<p class="yikes-easy-mc-success-message yikes-easy-mc-success-message-'+a+' yikes-easy-mc-hidden">'+o.response+"</p>"):i.before('<p class="yikes-easy-mc-success-message yikes-easy-mc-success-message-'+a+' yikes-easy-mc-hidden">'+o.response+"</p>"),s(".yikes-easy-mc-success-message-"+a).fadeIn(),s(".yikes-mailchimp-required-interest-group-error").remove(),1===o.redirection){var d=o.redirect,l=o.redirect_timer,c="1"===o.new_window?"_blank":"_self";setTimeout(function(){e.open(d,c)},l)}i.find("input").not('.yikes-easy-mc-submit-button, input[type="radio"], input[type="select"], input[type="checkbox"], #yikes-mailchimp-associated-list-id, #yikes-mailchimp-submitted-form').val("");var m={action:"increase_submission_count",form_id:a};s.ajax({url:r.l10n.ajax_url,type:"POST",data:m,success:function(e,i,s){},error:function(e,i,s){console.error(s)}})}else{if(o=o.data,"function"==typeof yikes_mailchimp_google_analytics_failure&&yikes_mailchimp_google_analytics_failure(o),s(".yikes-easy-mc-form-description-"+a).length>0)s(".yikes-easy-mc-form-description-"+a).before('<p class="yikes-easy-mc-error-message yikes-easy-mc-error-message-'+a+'" yikes-easy-mc-hidden"> '+o.response+"</p>");else{var u=void 0!==o&&void 0!==o.response?o.response:"Error collecting the API response.";i.before('<p class="yikes-easy-mc-error-message yikes-easy-mc-error-message-'+a+' yikes-easy-mc-hidden">'+u+"</p>")}if(void 0!==o&&void 0!==o.missing_required_field&&!0===o.missing_required_field&&void 0!==o.missing_required_field_data){var y=o.missing_required_field_data,p=void 0!==o.is_interest_group&&o.is_interest_group;_=p,void 0!==(f=y)&&s.each(f,function(e,i){!0===_?s("span."+e+"-label").length>0?s("span."+e+"-label").addClass("yikes-mc-required-field-not-filled"):s("."+e+"-label").addClass("yikes-mc-required-field-not-filled"):s('label[for="'+e+'"]').children("input").addClass("yikes-mc-required-field-not-filled")})}s(".yikes-easy-mc-error-message").fadeIn()}var f,_},error:function(e,i,s){console.error(s),console.log(e),console.log(i)},complete:function(e,s){i.find(".yikes-easy-mc-submit-button").removeAttr("disabled","disabled")}}),!1})})}(window,document,jQuery,Yikes_Mailchimp_Ajax);